<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Aggregate Catchments</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for aggregate_catchments {hyRefactor}"><tr><td>aggregate_catchments {hyRefactor}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Aggregate Catchments</h2>

<h3>Description</h3>

<p>Aggregates catchments according to a set of outlet catchments. 
Network aggregation is completed using: See <code><a href="../../hyRefactor/help/aggregate_network.html">aggregate_network</a></code>.
</p>


<h3>Usage</h3>

<pre>
aggregate_catchments(
  flowpath,
  divide,
  outlets,
  zero_order = NULL,
  coastal_cats = NULL,
  da_thresh = NA,
  only_larger = FALSE,
  post_mortem_file = NA
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>flowpath</code></td>
<td>
<p>sf data.frame Flowpaths as generated by 'refactor_nhdplus'</p>
</td></tr>
<tr valign="top"><td><code>divide</code></td>
<td>
<p>sf data.frame Reconciled catchment divides as generated by
'reconcile_catchment_divides'</p>
</td></tr>
<tr valign="top"><td><code>outlets</code></td>
<td>
<p>data.frame with &quot;ID&quot; and &quot;type&quot; columns. &quot;ID&quot; must be identifiers from
flowpath and divide data.frames. &quot;type&quot; should be &quot;outlet&quot;, or &quot;terminal&quot;.
&quot;outlet&quot; will include the specified ID.
&quot;terminal&quot; will be treated as a terminal node with nothing downstream.</p>
</td></tr>
<tr valign="top"><td><code>zero_order</code></td>
<td>
<p>list of vectors containing IDs to be aggregated into 0-order catchments.</p>
</td></tr>
<tr valign="top"><td><code>coastal_cats</code></td>
<td>
<p>sf data.frame with coastal catchments to be used with zero order.</p>
</td></tr>
<tr valign="top"><td><code>da_thresh</code></td>
<td>
<p>numeric See <code><a href="../../hyRefactor/help/aggregate_network.html">aggregate_network</a></code></p>
</td></tr>
<tr valign="top"><td><code>only_larger</code></td>
<td>
<p>boolean See <code><a href="../../hyRefactor/help/aggregate_network.html">aggregate_network</a></code></p>
</td></tr>
<tr valign="top"><td><code>post_mortem_file</code></td>
<td>
<p>rda file to dump environment to in case of error</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="../../hyRefactor/help/aggregate_network.html">aggregate_network</a></code>
</p>


<h3>Examples</h3>

<pre>
source(system.file("extdata", "walker_data.R", package = "hyRefactor"))
outlets &lt;- data.frame(ID = c(31, 3, 5, 1, 45, 92),
                      type = c("outlet", "outlet", "outlet", "terminal", "outlet", "outlet"),
                      stringsAsFactors = FALSE)
aggregated &lt;- aggregate_catchments(walker_fline_rec, walker_catchment_rec, outlets)
plot(aggregated$cat_sets$geom, lwd = 3, border = "red")
plot(walker_catchment_rec$geom, lwd = 1.5, border = "green", col = NA, add = TRUE)
plot(walker_catchment$geom, lwd = 1, add = TRUE)
plot(walker_flowline$geom, lwd = .7, col = "blue", add = TRUE)

plot(aggregated$cat_sets$geom, lwd = 3, border = "black")
plot(aggregated$fline_sets$geom, lwd = 3, col = "red", add = TRUE)
plot(walker_flowline$geom, lwd = .7, col = "blue", add = TRUE)

</pre>

<hr /><div style="text-align: center;">[Package <em>hyRefactor</em> version 0.4.6 <a href="00Index.html">Index</a>]</div>
</body></html>
