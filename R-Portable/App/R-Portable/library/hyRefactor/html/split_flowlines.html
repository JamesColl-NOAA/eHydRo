<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Split Flowlines</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for split_flowlines {hyRefactor}"><tr><td>split_flowlines {hyRefactor}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Split Flowlines</h2>

<h3>Description</h3>

<p>A wrapper for split_lines that works on nhdplus attributes
</p>


<h3>Usage</h3>

<pre>
split_flowlines(flines, max_length = NULL, events = NULL, para = 0, avoid = NA)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>flines</code></td>
<td>
<p>data.frame with COMID, toCOMID, LENGTHKM
and LINESTRING sf column in &quot;meters&quot; projection</p>
</td></tr>
<tr valign="top"><td><code>max_length</code></td>
<td>
<p>maximum segment length to return</p>
</td></tr>
<tr valign="top"><td><code>events</code></td>
<td>
<p>data.frame containing events as generated by nhdplusTools::get_flowline_index()</p>
</td></tr>
<tr valign="top"><td><code>para</code></td>
<td>
<p>numeric how many threads to use in parallel computation</p>
</td></tr>
<tr valign="top"><td><code>avoid</code></td>
<td>
<p>vector of ids to avoid</p>
</td></tr>
</table>


<h3>Value</h3>

<p>All the flowlines with some split apart. COMIDs are returned as strings 
with a semantic part number appended. That is .1, .2, ... .10, .11, etc. are 
appended and must be treated as one would treat a semantic version. .1 is the 
most upstream and the sequence increases in the downstream direction.
</p>


<h3>See Also</h3>

<p>The <code><a href="../../hyRefactor/help/refactor_nhdplus.html">refactor_nhdplus</a></code> function implements a complete
workflow using 'split_flowlines()'.
</p>


<h3>Examples</h3>

<pre>
source(system.file("extdata", "new_hope_data.R", package = "hyRefactor"))

new_hope_flowline &lt;- 
  dplyr::right_join(dplyr::select(new_hope_flowline, COMID, REACHCODE, FromMeas, ToMeas),
                    suppressWarnings(nhdplusTools::prepare_nhdplus(
                      new_hope_flowline, 0, 0, 0, FALSE, warn = FALSE)),
                    by = "COMID")

split &lt;- split_flowlines(suppressWarnings(sf::st_cast(sf::st_transform(
  new_hope_flowline, 5070), "LINESTRING")),
                         max_length = 2000, events = new_hope_events)

mapview::mapview(list(new_hope_events, new_hope_flowline))

mapview::mapview(list(new_hope_events, split))

</pre>

<hr /><div style="text-align: center;">[Package <em>hyRefactor</em> version 0.4.6 <a href="00Index.html">Index</a>]</div>
</body></html>
